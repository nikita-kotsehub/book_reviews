{% extends "layout.html" %}

{% block title %} 
Libby
{% endblock %}

{% block body %}
<div class="container">
    <div class="row justify-content-center my-3">
        <h1>{{title}}</h1>
    </div>
    <div class="row justify-content-center my-1">
        <h5>Author: {{author}}</h5>
    </div>
    <div class="row justify-content-center my-1">
        <h5>Year: {{year}}</h5>
    </div>
    <div class="row justify-content-center my-1">
        <h5>ISBN: {{isbn}}</h5>
    </div>
    <div class="row justify-content-center my-1">
        <h5>Average rating: {{average}}</h5>
    </div>
    <div class="row justify-content-center my-1">
        <h5>Number of ratings: {{num_of_ratings}}</h5>
    </div>
    <hr/>
    <h6> {{ message }} </h6>
    <form action={{ url_for('submit', isbn=isbn)}} method="POST">
        <div class="form-group">
            <label for="rating"><h6>Rating:</h6></label>
            <select class="form-control" id="rating" name="rating">
              <option value="5">5</option>
              <option value="4">4</option>
              <option value="3">3</option>
              <option value="2">2</option>
              <option value="1">1</option>
            </select>
        </div>
        <div class="form-group">
            <label for="review"><h6>Comment:</h6></label>
            <textarea class="form-control" name="comment" id="review" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-success">Submit Review</button>
    </form>
    <hr/>
    <div class="row justify-content-center my-3">
        <h2>Reviews:</h2>
    </div>
    <div class="row">
        <div class="justify-content-center col-md-6 col-sm-12">
          <table class="table .list">
          <thead>
            <tr>
              <th scope="col">Rating</th>
              <th scope="col">Comment</th>
            </tr>
          </thead>
          <tbody>
            {%for review in reviews%}
            <tr>
              <td>{{review.rating}}</td>
              <td>{{review.comment}}</td>
            </tr>
            {% endfor %}
          </tbody>
          </table>
        </div>
  
</div>


{% endblock %}